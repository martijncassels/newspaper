"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var PackageHelper_1 = require("../common/PackageHelper");
// we only want to print banner once
var bannerPrinted = false;
function repeat(string, times) {
    var result = '';
    for (var i = 0; i < times; i++) {
        result += string;
    }
    return result;
}
function rightPad(s, length) {
    return s = s + repeat(' ', length - s.length);
}
function printBannerGreeting(clientUri) {
    if (!bannerPrinted) {
        bannerPrinted = true;
        var packageHelper = PackageHelper_1.PackageHelper.instance;
        var packagePath = packageHelper.findPackageJsonPath(__dirname);
        var packageVersion = packageHelper.getPackageVersion(packagePath);
        var logText = 'Running Project Glimpse v' + packageVersion;
        var clientHeader = ' - Open Glimpse at: ';
        var docsHeader = ' - More info at: ';
        var max = Math.max(clientHeader.length, docsHeader.length);
        var clientText = rightPad(clientHeader, max) + " " + clientUri;
        var docsText = rightPad(docsHeader, max) + " http://node.getglimpse.com";
        var horizontalRule = repeat('=', Math.max(logText.length, clientText.length, docsText.length));
        var horizontalRule2 = repeat('-', logText.length);
        var parts = [
            '',
            horizontalRule,
            logText,
            horizontalRule2,
            clientText,
            docsText,
            horizontalRule,
            ''
        ];
        if (!clientUri) {
            // remove clientText if client not specified
            parts.splice(parts.indexOf(clientText), 1);
        }
        console.log(parts.join(require('os').EOL));
    }
}
exports.printBannerGreeting = printBannerGreeting;

//# sourceMappingURL=../../../maps/src/logging/Banner.js.map
