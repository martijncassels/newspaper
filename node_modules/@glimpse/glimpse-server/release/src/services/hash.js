'use strict';
Object.defineProperty(exports, "__esModule", { value: true });
var crc = require("crc");
var _ = require("lodash");
var Hash = (function () {
    function Hash() {
    }
    Hash.hashStrings = function (strings) {
        return crc.crc32(strings.join('&')).toString(16).toLowerCase();
    };
    Hash.hashKeyValuePairs = function (keyValuePairs) {
        // NOTE: Lodash does not guarantee map order so sorting is required.
        //       Glimpse.Server.Configuration.Metadata.Hash doesn't sort the
        //       pairs, so hashes between servers cannot be compared directly.
        return this.hashStrings(_.chain(keyValuePairs)
            .sortBy(function sort(keyValuePair) {
            return keyValuePair[0];
        })
            .map(function map(keyValuePair) {
            return keyValuePair[0].toString() + '=' + keyValuePair[1].toString();
        })
            .value());
    };
    Hash.hashObject = function (object) {
        return this.hashKeyValuePairs(_.toPairs(object));
    };
    return Hash;
}());
exports.Hash = Hash;

//# sourceMappingURL=../../../maps/src/services/hash.js.map
