'use strict';
Object.defineProperty(exports, "__esModule", { value: true });
var AgentBroker = (function () {
    function AgentBroker(agent) {
        this.agent = agent;
        this.messageConverter = agent.providers.messageConverter;
    }
    AgentBroker.prototype.createAndSendMessage = function (data, types, indices, context) {
        if (!context) {
            context = this.agent.providers.contextManager.currentContext();
        }
        if (context) {
            var message = this.messageConverter.createMessage(data, types, indices, context);
            this.sendMessage(message);
        }
    };
    /**
     * send the given message
     */
    AgentBroker.prototype.sendMessage = function (message) {
        this.agent.providers.messagePublisher.publishMessages([message]);
    };
    return AgentBroker;
}());
exports.AgentBroker = AgentBroker;

//# sourceMappingURL=../../maps/messaging/AgentBroker.js.map
